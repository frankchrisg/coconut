contract recursion {

    event recursionEvent(string eventType, string signature);

    // only goes up to 1024 stack size
    function rec(uint start, uint end) public {
        if (start != end) {
            rec(start, end - 1);
        }
    }

    function main(uint start, uint end, string memory sig) public {
        rec(start, end);
        emit recursionEvent("recursion", sig);
    }

}

// 608060405234801561001057600080fd5b50610291806100206000396000f3fe608060405234801561001057600080fd5b5060043610610053576000357c0100000000000000000000000000000000000000000000000000000000900480636b8abd6d146100585780639c5268f114610090575b600080fd5b61008e6004803603604081101561006e57600080fd5b81019080803590602001909291908035906020019092919050505061015f565b005b61015d600480360360608110156100a657600080fd5b810190808035906020019092919080359060200190929190803590602001906401000000008111156100d757600080fd5b8201836020820111156100e957600080fd5b8035906020019184600183028401116401000000008311171561010b57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610178565b005b80821461017457610173826001830361015f565b5b5050565b610182838361015f565b7f4e8b7a8ef4a806a460a3ef0cb6f3c76a88f869e8e152362448c7679b643c552b81604051808060200180602001838103835260098152602001807f726563757273696f6e0000000000000000000000000000000000000000000000815250602001838103825284818151815260200191508051906020019080838360005b8381101561021c578082015181840152602081019050610201565b50505050905090810190601f1680156102495780820380516001836020036101000a031916815260200191505b50935050505060405180910390a150505056fea265627a7a7231582049ce3d945df0ac65dc950a6836d9bc2fa8694aaf406b5e76ad976868683ac52c64736f6c634300050c0032

// [{"anonymous":false,"name":"recursionEvent","inputs":[{"indexed":false,"name":"eventType","type":"string","internalType":"string"},{"indexed":false,"name":"signature","type":"string","internalType":"string"}],"type":"event","payable":false},{"constant":false,"name":"main","inputs":[{"name":"start","type":"uint256","internalType":"uint256"},{"name":"end","type":"uint256","internalType":"uint256"},{"name":"sig","type":"string","internalType":"string"}],"outputs":[],"type":"function","payable":false,"stateMutability":"nonpayable"},{"constant":false,"name":"rec","inputs":[{"name":"start","type":"uint256","internalType":"uint256"},{"name":"end","type":"uint256","internalType":"uint256"}],"outputs":[],"type":"function","payable":false,"stateMutability":"nonpayable"}]