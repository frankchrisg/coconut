contract mem {

    event memoryEvent(string eventType, string signature);

    bytes constant field = "!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";

    function createString(uint lenOut, uint lenIn, uint firstChar, uint length, string memory sig) public {
        string[][] memory arr = new string[][](lenOut);

        for (uint i = 0; i < arr.length; i++) {
            arr[i] = new string[](lenIn);
        }

        for (uint i = 0; i < lenOut; i++) {
            for (uint j = 0; j < lenIn; j++) {
                arr[uint(i)][uint(j)] = getChars(firstChar + i + j, length + i + j);
            }
        }

        emit memoryEvent("memory", sig);

    }

    function getChars(uint firstChar, uint length) public pure returns (string memory){
        bytes memory chars;

        for (uint i = firstChar; i < length + firstChar; i++) {
            chars = abi.encodePacked(string(chars), field[(firstChar + i) % field.length]);
        }

        return string(chars);
    }

}

// 608060405234801561001057600080fd5b506105e7806100206000396000f3fe608060405234801561001057600080fd5b5060043610610053576000357c01000000000000000000000000000000000000000000000000000000009004806312d6ac9a146100585780632db54ab11461013b575b600080fd5b610139600480360360a081101561006e57600080fd5b8101908080359060200190929190803590602001909291908035906020019092919080359060200190929190803590602001906401000000008111156100b357600080fd5b8201836020820111156100c557600080fd5b803590602001918460018302840111640100000000831117156100e757600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192905050506101ec565b005b6101716004803603604081101561015157600080fd5b8101908080359060200190929190803590602001909291905050506103df565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101b1578082015181840152602081019050610196565b50505050905090810190601f1680156101de5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b60608560405190808252806020026020018201604052801561022257816020015b606081526020019060019003908161020d5790505b50905060008090505b815181101561028d578560405190808252806020026020018201604052801561026857816020015b60608152602001906001900390816102535790505b5082828151811061027557fe5b6020026020010181905250808060010191505061022b565b5060008090505b868110156103015760008090505b868110156102f3576102bc818388010182848801016103df565b8383815181106102c857fe5b602002602001015182815181106102db57fe5b602002602001018190525080806001019150506102a2565b508080600101915050610294565b507f5b4b9b884d9fee6f475bd70dd41bbdc34ab545133bdbc8829651db1a5d7a7cc782604051808060200180602001838103835260068152602001807f6d656d6f72790000000000000000000000000000000000000000000000000000815250602001838103825284818151815260200191508051906020019080838360005b8381101561039c578082015181840152602081019050610381565b50505050905090810190601f1680156103c95780820380516001836020036101000a031916815260200191505b50935050505060405180910390a1505050505050565b60608060008490505b84840181101561054957816040518060800160405280605e8152602001610555605e91396040518060800160405280605e8152602001610555605e9139518388018161043057fe5b068151811061043b57fe5b60200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000026040516020018083805190602001908083835b602083106104bb5780518252602082019150602081019050602083039250610498565b6001836020036101000a038019825116818451168082178552505050505050905001827effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260010192505050604051602081830303815290604052915080806001019150506103e8565b50809150509291505056fe2122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7ea265627a7a72315820b6d1b3cc28fb2664cab783dc8b50d5ef5f55bf4ac04652f6a2e9fd3dea45227464736f6c634300050c0032

// [{"anonymous":false,"name":"memoryEvent","inputs":[{"indexed":false,"name":"eventType","type":"string","internalType":"string"},{"indexed":false,"name":"signature","type":"string","internalType":"string"}],"type":"event","payable":false},{"constant":false,"name":"createString","inputs":[{"name":"lenOut","type":"uint256","internalType":"uint256"},{"name":"lenIn","type":"uint256","internalType":"uint256"},{"name":"firstChar","type":"uint256","internalType":"uint256"},{"name":"length","type":"uint256","internalType":"uint256"},{"name":"sig","type":"string","internalType":"string"}],"outputs":[],"type":"function","payable":false,"stateMutability":"nonpayable"},{"constant":true,"name":"getChars","inputs":[{"name":"firstChar","type":"uint256","internalType":"uint256"},{"name":"length","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"string","internalType":"string"}],"type":"function","payable":false,"stateMutability":"pure"}]