CONFIG_PATH: "templates"
MAIN_PATH: "{{ playbook_dir }}"
MAIN_CONFIG_PATH: "{{MAIN_PATH}}/{{CONFIG_PATH}}"

BASE_PATH: "/home/parallels/FINAL_graphene_corda_latest_xxx"
CHOWN_PATH: "/home/parallels/FINAL_graphene_corda_latest_xxx/"

LOCAL_DIEM_PATH: "/home/parallels/FINAL_graphene_corda_latest_xxx/diem-prov/diem"
DIEM_URL: "https://github.com/diem/diem.git"
DIEM_FORCE_CLONE: no
DIEM_VERSION: "94a8bca0fabbd18a54d50ec11ac56affa7ba2a09"
#"main"
NUMBER_OF_NODES_TOTAL: 8
DIEM_NODE_CONFIGURATION_PATH: "/home/parallels/FINAL_graphene_corda_latest_xxx/diem-prov/diem"
DIEM_NODE_CONFIGURATION_DIR: "custconf"
# validator | full_node
BASE_ROLE: "validator"

MODULE_SRC_PATH: "{{ MAIN_CONFIG_PATH }}/modules"
MODULE_TARGET_PATH: "diem-move/diem-framework"
MODULE_TARGET_PATH_FULL: "{{ MODULE_TARGET_PATH }}/DPN/sources"

CUSTOM_DIEM_FILES_PATH: "{{ MAIN_CONFIG_PATH }}/diem-files/diem/"

DIEM_CONFIGURATION_PATH_AND_DOCKER_COMPOSE_PATH: "{{ BASE_PATH }}/diem-files"

COMMUNICATION_START_PORT: 60000

COPY_BINARIES: no
BUILD_BINARIES: no

BINARY_PATH: "target/debug"

BINARIES:
  - diem-faucet
  - diem-node

MODULE_BUILD_PARAMS: "--release -- --no-build-docs"

"nodes_to_exclude_from_module": []

# Default 1
MEMPOOL_POLL_COUNT: 1
# Default 1_000_000
MEMPOOL_CAPACITY: 1000000
# Default 1000
ROUND_INITIAL_TIMEOUT_MS: 30000
# Default 2
CONTIGUOUS_ROUNDS: 2
# Default 1000
MAX_BLOCK_SIZE: 5000
# Default 100
MAX_PRUNED_BLOCKS_IN_MEM: 100
# Default 1000
MEMPOOL_EXECUTED_TXN_TIMEOUT_MS: 20000
# Default 1000
MEMPOOL_TXN_PULL_TIMEOUT_MS: 20000
# Default INFO
CONSENSUS_LOG_LEVEL: "INFO"
CONSENSUS_SERVICE_TYPE: "thread"
VERIFY_VOTE_PROPOSAL_SIGNATURE: "true"

BACK_PRESSURE_LIMIT: 0
ADMISSION_CONTROL_NODE_DEBUG_START_PORT: 55000
METRICS_SERVER_START_PORT: 50000
PUBLIC_METRICS_SERVER_START_PORT: 45000
SIGN_VOTE_PROPOSAL: "true"
EXECUTION_SERVICE_TYPE: "thread"

# Default 100
MAX_CONCURRENT_NETWORK_REQS: 1000
FULL_NODE_LISTEN_START_PORT: 40000
# Default 100
MAX_CONCURRENT_NETWORK_REQS_PRIVATE: 1000
FULL_NODE_LISTEN_START_PORT_PRIVATE: 35000
# Default INFO
LOG_LEVEL: "INFO"
# Default 100
CAPACITY_PER_USER: 1000000
# Default 1
MAX_BROADCASTS_PER_PEER: 1
# Default 100
SHARED_MEMPOOL_BATCH_SIZE: 100
# Default 2
SHARED_MEMPOOL_MAX_CONCURRENT_INBOUND_SYNCS: 2
# Default 50
SHARED_MEMPOOL_TICK_INTERVAL_MS: 50

JSON_RPC_START_PORT: 30000
# Default 20
BATCH_SIZE_LIMIT: 20
# Default 1000
PAGE_SIZE_LIMIT: 1000
API_START_PORT: 25000

# Default 1000
CHUNK_LIMIT: 1000
# Default 1000
MAX_CHUNK_LIMIT: 1000
# Default 100
TICK_INTERVAL: 100
# Default 10000
MAX_OPEN_FILES_STORAGE: 40000

STORAGE_START_PORT: 20000
STORAGE_BACKUP_START_PORT: 15000
# Default 100
MAX_CONCURRENT_NETWORK_REQS_VALIDATOR: 1000
VALIDATOR_START_PORT: 10000
# Default 3
MAX_OUTBOUND_CONNECTIONS_VALIDATOR: 1000

FAUCET_START_PORT: 3000

NUM_PREPARE_ACCOUNTS: 10

NODE_COMPONENTS: [CONSENSUS, DEBUG_INTERFACE, EXECUTION, FULL_NODE_NETWORKS, LOGGER, MEMPOOL, METRICS, JSON_RPC, API, STATE_SYNC, STORAGE, TEST, VALIDATOR_NETWORK, FAILPOINTS]
# NODE_COMPONENTS: [EXECUTION, FULL_NODE_NETWORKS, JSON_RPC]
# NODE_COMPONENTS: [CONSENSUS, FULL_NODE_NETWORKS, JSON_RPC, VALIDATOR_NETWORK]

FAUCET_COMMAND_LINE: "-a 0.0.0.0 -c 4 -m {{ DIEM_NODE_CONFIGURATION_PATH }}{{ DIEM_NODE_CONFIGURATION_DIR }}"
#target/debug/diem-faucet -a 0.0.0.0 -c 4 -m custconf/mint.key -p 1993 -s http://192.168.2.112:43165/v1
# DIEM_NODE_BIN_PATH: --genesis-modules language/diem-framework/DPN/releases/artifacts/current --seed 0000000000000000000000000000000000000000000000000000000000000000
# DIEM_FAUCET_BIN_PATH:
# copy or build bin
BUILD_ARGS: "--bin diem-node --bin diem-faucet --workspace"
# --all --bins
BUILD_RETRIES: 5

DOCKERFILE_PATH: "{{MAIN_CONFIG_PATH}}/ubuntu-diem"
DOCKERFILE_NAME: "ubuntu-diem"

INFLUXDB_ADMIN_USER: "admin"
INFLUXDB_ADMIN_PASSWORD: "password123"
INFLUXDB_USER: "lrdata"
INFLUXDB_USER_PASSWORD: "password123"
INFLUXDB_VERSION: "1.8.4"
REBUILD_GRAFANA_DOCKERFILE: "yes"
DOCKERFILE_GRAFANA: "grafana"

# Should be used in Docker bridged mode See the templates for network communication in this mode
NET_NAME: "uncomment_in_file_for_bridged_mode"
BRIDGED_MODE: true

RETENTION_TIME: 1y

RETRIES_DOCKER: 100
DELAY_DOCKER: 1

PRUNE_DOCKER: true

REBUILD_UBUNTU_DIEM_DOCKERFILE: "no"

SWARM_PREFIX: "192.168.2."

# How many tasks should be run in parallel during execution of Ansible
RUN_LOCAL: false
SERIAL_EXECUTION_NUMBER: 0
SERIAL_EXECUTION: "{% if RUN_LOCAL -%}1{% else %}{{SERIAL_EXECUTION_NUMBER}}{% endif %}"
# The default hostset for Ansible, can be overwritten or set Please pay attention for variable prioritization, see:
# https://docs.ansible.com/ansible/latest/user_guide/playbooks_variables.html
# hostset: "local"

INIT: true
COMMON: true
